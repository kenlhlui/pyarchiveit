{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\udce6 Pyarchiveit","text":"<p>Pyarchiveit is a Python library designed to interact with the Internet Archive's Archive-it API. It provides a simple interface to manage the seeds and collections within Archive-it accounts.</p> <p>Warning</p> <p>\ud83d\udea8This library is under active development. Use at your own risk. \ud83d\udea8</p>"},{"location":"#features","title":"\u2728 Features","text":"<ul> <li>Create and update seeds with metadata validation</li> <li>Retrieve seed lists with their metadata for single or multiple collections</li> <li>Export seed data to CSV and XLSX formats</li> </ul>"},{"location":"#installation","title":"\ud83d\udce5 Installation","text":"<p>You can install the library using pip: <pre><code>pip install pyarchiveit\n</code></pre> Or use uv if you have it installed: <pre><code>uv add pyarchiveit\n</code></pre></p> <p>Tip</p> <p>As a best practice (and since the project is under active development), you should pin the version of <code>pyarchiveit</code> when installing it, e.g. <code>pip install pyarchiveit==0.1.0</code> or <code>uv add pyarchiveit==0.1.0</code>, to avoid unexpected issues from future updates.</p>"},{"location":"#quick-start","title":"\ud83d\udca1 Quick Start","text":"<p>See the Getting Started guide for detailed installation and initialization instructions.</p>"},{"location":"#create-a-new-seed-with-metadata","title":"Create a new seed with metadata","text":"<pre><code>metadata = { # (1)!\n    'title':[{\"value\": \"Example Metadata 1\"}],\n    'another_field':[\n        {\"value\": \"Example Metadata 2\"},\n        {\"value\": \"Additional Metadata\"}\n        ]\n}\n\nnew_seed = archive_it_client.create_seed(\n    collection_id=123456,\n    url=\"http://example.com\",\n    crawl_definition_id=41125648146,\n    other_params=None,\n    metadata=metadata,\n)\n</code></pre> <ol> <li>To specify metadata fields, the <code>metadata</code> parameter should be a dictionary where each key is the metadata field name, and the value is a list of dictionaries. Each dictionary in the list should contain a \"value\" key with the corresponding metadata value. The structure MUST be followed or the API will reject the request.</li> </ol>"},{"location":"#update-an-existing-seeds-metadata","title":"Update an existing seed's metadata","text":"<pre><code>metadata = {\n    'title':[{\"value\": \"Example Metadata 1\"}],\n    'another_field':[\n        {\"value\": \"Example Metadata 2\"},\n        {\"value\": \"Additional Metadata\"}\n        ]\n}\nupdated_seed = archive_it_client.update_seed_metadata(\n    seed_id=123456,\n    metadata=updated_metadata\n)\n</code></pre>"},{"location":"#retrieve-seed-lists","title":"Retrieve seed lists","text":"<pre><code># Get seed list of a collection\nseeds = archive_it_client.get_seeds(collection_ids=123456)\n\n# Or get seeds from multiple collections\nseeds = archive_it_client.get_seeds(collection_ids=[123456, 789012])\n</code></pre> <p>Tip</p> <p>See the ArchiveItAPI Reference for full method documentation.</p>"},{"location":"#support","title":"\u26ab Support","text":"<p>For questions or support, please open an issue on the GitHub repository.</p>"},{"location":"#author","title":"\ud83d\udd8a\ufe0f Author","text":"<p>Ken Lui - Data Curation Specialist at Map &amp; Data Library, University of Toronto</p>"},{"location":"#license","title":"\ud83d\udcc4 License","text":"<p>This project is licensed under the GNU GPLv3 - see the LICENSE file for details.</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#installation","title":"Installation","text":"<p>Install pyarchiveit using pip or uv:</p> pipuv <pre><code>pip install pyarchiveit\n</code></pre> <pre><code>uv add pyarchiveit\n</code></pre>"},{"location":"getting-started/#initialization","title":"Initialization","text":"<p>You will need to initialize the <code>ArchiveItAPI</code> class with your account credentials.</p> Using environment variables (recommended)Direct initialization <p>It is a better practice to set your credentials as environment variables (.env) and read them in your code instead of hardcoding them. You may use the <code>python-dotenv</code> package to help with this.</p> pipuv <pre><code>pip install python-dotenv\n</code></pre> <pre><code>uv add python-dotenv\n</code></pre> <p>Then, create a <code>.env</code> file in your project directory with the following content: <pre><code>ARCHIVE_IT_ACCOUNT_NAME=your_username\nARCHIVE_IT_ACCOUNT_PASSWORD=your_password\n</code></pre></p> <p>Now, read the environment variables in your code and initialize the <code>ArchiveItAPI</code> client: <pre><code>import os\nfrom dotenv import load_dotenv\nload_dotenv() # (1)!\n\nfrom pyarchiveit import ArchiveItAPI\n\narchive_it_client = ArchiveItAPI(\n    account_name=os.getenv('ARCHIVE_IT_ACCOUNT_NAME'),\n    account_password=os.getenv('ARCHIVE_IT_ACCOUNT_PASSWORD')\n)\n</code></pre></p> <ol> <li>The <code>load_dotenv()</code> function loads the environment variables from the <code>.env</code> file into the system's environment variables, making them accessible via <code>os.getenv()</code>.</li> </ol> <pre><code>from pyarchiveit import ArchiveItAPI\n\n# Initialize the Archive-it API client with your credentials\narchive_it_client = ArchiveItAPI(\n    account_name='your_username',\n    account_password='your_password'\n)\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>Now that you have initialized the client, you can start using the Archive-it API. Check out the API Reference for available methods and their documentation.</p>"},{"location":"api/ArchiveItAPI/","title":"ArchiveItAPI Reference","text":"<p>The main client class for interacting with the Archive-it API.</p> <p>First time using pyarchiveit?</p> <p>See the Getting Started guide for installation and initialization instructions.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.__init__","title":"<code>__init__(account_name, account_password, base_url='https://partner.archive-it.org/api/', default_timeout=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>account_name</code> <code>str</code> <p>The account name for authentication.</p> required <code>account_password</code> <code>str</code> <p>The account password for authentication.</p> required <code>base_url</code> <code>str</code> <p>The base URL for the API endpoints. Defaults to Archive-it API base URL.</p> <code>'https://partner.archive-it.org/api/'</code> <code>default_timeout</code> <code>float | None</code> <p>Default timeout in seconds. Defaults to None. Use None for no timeout.</p> <code>None</code>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.create_seed","title":"<code>create_seed(url, collection_id, crawl_definition_id, other_params=None, metadata=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>url</code> <code>str</code> <p>The URL of the seed to create.</p> required <code>collection_id</code> <code>str | int</code> <p>The ID of the collection to add the seed to.</p> required <code>crawl_definition_id</code> <code>str | int</code> <p>The ID of the crawl definition to associate with the seed.</p> required <code>other_params</code> <code>dict | None</code> <p>Additional parameters for the seed creation.</p> <code>None</code> <code>metadata</code> <code>dict | None</code> <p>Metadata to set for the seed after creation.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>The validated created seed data returned by the API.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>If the input data or metadata structure is invalid.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.delete_seed","title":"<code>delete_seed(seed_id)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>seed_id</code> <code>str | int</code> <p>The ID of the seed to delete.</p> required <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>The validated seed data from the API after deletion. The 'deleted' flag should be True.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>If the API returns invalid seed data.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.get_seed_by_id","title":"<code>get_seed_by_id(seed_id)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>seed_id</code> <code>str | int</code> <p>The ID of the seed to retrieve.</p> required <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>The validated seed data returned by the API.</p> <p>Raises:</p> Type Description <code>HTTPStatusError</code> <p>If the API request fails.</p> <code>TimeoutException</code> <p>If the request times out.</p> <code>ValidationError</code> <p>If the API returns invalid seed data.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.get_seed_list","title":"<code>get_seed_list(collection_id, limit=-1, sort=None, pluck=None, format='json', additional_query=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>collection_id</code> <code>str | int | list[str | int]</code> <p>Collection ID or list of Collection IDs.</p> required <code>limit</code> <code>int</code> <p>Maximum number of seeds to retrieve per collection. Defaults to -1 (no limit).</p> <code>-1</code> <code>sort</code> <code>str | None</code> <p>Sort order based on the result. Negative values (-) indicate ascending order. Defaults to None.See the available fields in the API documentation (Data Models &gt; Seed).Example values: \"id\", \"-id\", \"last_updated_date\", \"-last_updated_date\".</p> <code>None</code> <code>pluck</code> <code>str | None</code> <p>Specific field to extract from each seed object (e.g. \"url\", \"id\" ). Defaults to None (returns full seed objects).</p> <code>None</code> <code>format</code> <code>str</code> <p>The format of the response (json or xml). Defaults to \"json\".</p> <code>'json'</code> <code>additional_query</code> <code>dict</code> <p>Additional query parameters to include in the request.  Can either be a string or list. A list means to query for multiple values for that parameter (OR statement).Format: {\"param_name\": } e.g. {\"last_updated_by\": \"PersonA\"} or {\"last_updated_by\": [\"PersonA\", \"PersonB\"]}. <code>None</code> <p>Returns:</p> Type Description <code>list</code> <p>list[SeedKeys] | list: If pluck is None, returns list of validated seed objects. If pluck is specified, returns list of the plucked field values.</p> <p>Raises:</p> Type Description <code>HTTPStatusError</code> <p>If the API request fails.</p> <code>TimeoutException</code> <p>If the request times out.</p> <code>ValidationError</code> <p>If the API returns invalid seed data.</p> <code>ValueError</code> <p>If the <code>sort</code> parameter is invalid.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.get_seed_with_metadata","title":"<code>get_seed_with_metadata(metadata_field=None, metadata_value=None, limit=-1, pluck=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>metadata_field</code> <code>str | None</code> <p>The metadata field to search (e.g., \"Title\", \"Author\").</p> <code>None</code> <code>metadata_value</code> <code>str | None</code> <p>The value to search for within the specified metadata field.</p> <code>None</code> <code>limit</code> <code>int</code> <p>Maximum number of seeds to retrieve. Defaults to -1 (no limit).</p> <code>-1</code> <code>pluck</code> <code>str | None</code> <p>Specific field to extract from each seed object (e.g. \"collection\"). Defaults to None (returns full seed objects).</p> <code>None</code>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.search_seed_metadata","title":"<code>search_seed_metadata(metadata_field=None, metadata_value=None, limit=-1, pluck=None)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>metadata_field</code> <code>str | list | None</code> <p>The metadata field to search (e.g., \"Title\", \"Author\"). If a list is provided, searches within any of the fields.</p> <code>None</code> <code>metadata_value</code> <code>str | list | None</code> <p>The value to search for within the specified metadata field. If a list is provided, searches for any of the values.</p> <code>None</code> <code>limit</code> <code>int</code> <p>Maximum number of seeds to retrieve. Defaults to -1 (no limit).</p> <code>-1</code> <code>pluck</code> <code>str | None</code> <p>Specific field to extract from each seed object (e.g. \"seed\", \"name_control\"). Defaults to None (returns full seed objects).</p> <code>None</code> <p>Returns:</p> Name Type Description <code>list</code> <code>list</code> <p>A list of seeds matching the search criteria.</p>"},{"location":"api/ArchiveItAPI/#pyarchiveit.api.ArchiveItAPI.update_seed_metadata","title":"<code>update_seed_metadata(seed_id, metadata)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>seed_id</code> <code>str | int</code> <p>The ID of the seed to update.</p> required <code>metadata</code> <code>dict</code> <p>The metadata to update for the seed.</p> required <p>Raises:</p> Type Description <code>ValidationError</code> <p>If the metadata structure is invalid.</p>"},{"location":"api/export/","title":"Export Reference","text":"<p>The export module provides functionality to export Archive-It seed data to spreadsheet formats such as CSV and XLSX.</p>"},{"location":"api/export/#pyarchiveit.export.export_seed_to_spreadsheet","title":"<code>export_seed_to_spreadsheet(data, file_dir, file_name, file_format='xlsx')</code>","text":"<p>Parameters:</p> Name Type Description Default <code>data</code> <code>list of dict</code> <p>The data to export.</p> required <code>file_dir</code> <code>Path | str</code> <p>The directory to save the output file.</p> required <code>file_name</code> <code>Path | str</code> <p>The name of the output file.</p> required <code>file_format</code> <code>str</code> <p>The format of the output file ('xlsx' or 'csv').</p> <code>'xlsx'</code>"},{"location":"data_models/seed/","title":"Seed","text":"<p>The <code>Seed</code> model represents the complete seed object returned by the Archive-It API. It includes all fields that the API provides, including read-only fields like <code>id</code>, <code>created_date</code>, and <code>last_updated_date</code>.</p> Show JSON schema: <pre><code>{\n  \"additionalProperties\": true,\n  \"description\": \"Model representing a complete Seed object from Archive-it API.\\n\\nThis model is used for API responses and contains all possible seed fields.\\nUse this when receiving seed data from the API.\",\n  \"properties\": {\n    \"id\": {\n      \"description\": \"Unique identifier for the seed\",\n      \"title\": \"Id\",\n      \"type\": \"integer\"\n    },\n    \"url\": {\n      \"description\": \"URL of the seed\",\n      \"title\": \"Url\",\n      \"type\": \"string\"\n    },\n    \"collection\": {\n      \"description\": \"Collection ID the seed belongs to\",\n      \"title\": \"Collection\",\n      \"type\": \"integer\"\n    },\n    \"crawl_definition\": {\n      \"description\": \"Crawl definition ID the seed belongs to\",\n      \"title\": \"Crawl Definition\",\n      \"type\": \"integer\"\n    },\n    \"active\": {\n      \"description\": \"Indicates if the seed is active\",\n      \"title\": \"Active\",\n      \"type\": \"boolean\"\n    },\n    \"deleted\": {\n      \"description\": \"Indicates if the seed is deleted\",\n      \"title\": \"Deleted\",\n      \"type\": \"boolean\"\n    },\n    \"last_updated_date\": {\n      \"description\": \"Date when the seed was last updated\",\n      \"title\": \"Last Updated Date\",\n      \"type\": \"string\"\n    },\n    \"canonical_url\": {\n      \"description\": \"Canonical URL of the seed\",\n      \"title\": \"Canonical Url\",\n      \"type\": \"string\"\n    },\n    \"created_by\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"User who created the seed\",\n      \"title\": \"Created By\"\n    },\n    \"created_date\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Date when the seed was created\",\n      \"title\": \"Created Date\"\n    },\n    \"last_updated_by\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"User who last updated the seed\",\n      \"title\": \"Last Updated By\"\n    },\n    \"publicly_visible\": {\n      \"anyOf\": [\n        {\n          \"type\": \"boolean\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Indicates if the seed is publicly visible\",\n      \"title\": \"Publicly Visible\"\n    },\n    \"http_response_code\": {\n      \"anyOf\": [\n        {\n          \"type\": \"integer\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"HTTP response code\",\n      \"title\": \"Http Response Code\"\n    },\n    \"valid\": {\n      \"anyOf\": [\n        {\n          \"type\": \"boolean\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Indicates if the seed is valid\",\n      \"title\": \"Valid\"\n    },\n    \"seed_type\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Type of the seed\",\n      \"title\": \"Seed Type\"\n    },\n    \"login_username\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Login username for the seed\",\n      \"title\": \"Login Username\"\n    },\n    \"login_password\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Login password for the seed\",\n      \"title\": \"Login Password\"\n    },\n    \"metadata\": {\n      \"anyOf\": [\n        {\n          \"additionalProperties\": true,\n          \"type\": \"object\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"Metadata for the seed\",\n      \"title\": \"Metadata\"\n    },\n    \"seed_groups\": {\n      \"anyOf\": [\n        {\n          \"items\": {},\n          \"type\": \"array\"\n        },\n        {\n          \"type\": \"null\"\n        }\n      ],\n      \"description\": \"List of seed groups the seed belongs to\",\n      \"title\": \"Seed Groups\"\n    }\n  },\n  \"required\": [\n    \"id\",\n    \"url\",\n    \"collection\",\n    \"crawl_definition\",\n    \"active\",\n    \"deleted\",\n    \"last_updated_date\",\n    \"canonical_url\",\n    \"created_by\",\n    \"created_date\",\n    \"last_updated_by\",\n    \"publicly_visible\",\n    \"http_response_code\",\n    \"valid\",\n    \"seed_type\",\n    \"login_username\",\n    \"login_password\",\n    \"metadata\",\n    \"seed_groups\"\n  ],\n  \"title\": \"Seed\",\n  \"type\": \"object\"\n}\n</code></pre> <p>Config:</p> <ul> <li><code>default</code>: <code>{'extra': 'allow'}</code></li> </ul> <p>Fields:</p> <ul> <li> <code>id</code>                 (<code>int</code>)             </li> <li> <code>url</code>                 (<code>str</code>)             </li> <li> <code>collection</code>                 (<code>int</code>)             </li> <li> <code>crawl_definition</code>                 (<code>int</code>)             </li> <li> <code>active</code>                 (<code>bool</code>)             </li> <li> <code>deleted</code>                 (<code>bool</code>)             </li> <li> <code>last_updated_date</code>                 (<code>str</code>)             </li> <li> <code>canonical_url</code>                 (<code>str</code>)             </li> <li> <code>created_by</code>                 (<code>str | None</code>)             </li> <li> <code>created_date</code>                 (<code>str | None</code>)             </li> <li> <code>last_updated_by</code>                 (<code>str | None</code>)             </li> <li> <code>publicly_visible</code>                 (<code>bool | None</code>)             </li> <li> <code>http_response_code</code>                 (<code>int | None</code>)             </li> <li> <code>valid</code>                 (<code>bool | None</code>)             </li> <li> <code>seed_type</code>                 (<code>str | None</code>)             </li> <li> <code>login_username</code>                 (<code>str | None</code>)             </li> <li> <code>login_password</code>                 (<code>str | None</code>)             </li> <li> <code>metadata</code>                 (<code>dict | None</code>)             </li> <li> <code>seed_groups</code>                 (<code>list | None</code>)             </li> </ul> <p>Validators:</p> <ul> <li> <code>block_forbidden_fields</code> </li> </ul>"},{"location":"data_models/seed/#protected-fields","title":"Protected Fields","text":"<p>The following fields are read-only and cannot be set via user input:</p> <ul> <li><code>id</code></li> <li><code>created_by</code></li> <li><code>created_date</code></li> <li><code>last_updated_by</code></li> <li><code>last_updated_date</code></li> <li><code>canonical_url</code></li> <li><code>http_response_code</code></li> <li><code>last_checked_http_response_code</code></li> <li><code>valid</code></li> <li><code>seed_type</code></li> <li><code>canonical_url</code></li> </ul> <p>These fields are automatically populated by the Archive-It system and should not be modified directly.</p>"}]}